<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Measurement Error - 2&nbsp; Preparing the NHANES Data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./visualization.html" rel="next">
<link href="./intro.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="site_libs/datatables-binding-0.33/datatables.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
<link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./summary.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Preparing the NHANES Data</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Measurement Error</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Preparing the NHANES Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./visualization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Visualization</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./initial_modeling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Modeling Diabetes Occurrence</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./diagnostics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Model Diagnostics</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./add_noise.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Creating “Noisy” Data</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#identify-data-tables-of-interest" id="toc-identify-data-tables-of-interest" class="nav-link active" data-scroll-target="#identify-data-tables-of-interest"><span class="header-section-number">2.1</span> Identify Data Tables of Interest</a></li>
  <li><a href="#identify-variables-of-interest" id="toc-identify-variables-of-interest" class="nav-link" data-scroll-target="#identify-variables-of-interest"><span class="header-section-number">2.2</span> Identify Variables of Interest</a></li>
  <li><a href="#merge-data-together" id="toc-merge-data-together" class="nav-link" data-scroll-target="#merge-data-together"><span class="header-section-number">2.3</span> Merge Data Together</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Preparing the NHANES Data</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>Download the NHANES data using the nhanesA package:</p>
<section id="identify-data-tables-of-interest" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="identify-data-tables-of-interest"><span class="header-section-number">2.1</span> Identify Data Tables of Interest</h2>
<p>Look at the diet, examination, and demographic info for the 2011-2012 cycle of NHANES</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Note DR1TOT_G and DR2TOT_G</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="fu">nhanesTables</span>(<span class="st">'DIET'</span>, <span class="dv">2012</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item" id="htmlwidget-999f5dabc41092802edf" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-999f5dabc41092802edf">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12"],["DR1TOT_G","DR2TOT_G","DR1IFF_G","DR2IFF_G","DRXMCD_G","DRXFCD_G","DSQIDS_G","DSQTOT_G","DS1IDS_G","DS2IDS_G","DS1TOT_G","DS2TOT_G"],["Dietary Interview - Total Nutrient Intakes, First Day","Dietary Interview - Total Nutrient Intakes, Second Day","Dietary Interview - Individual Foods, First Day","Dietary Interview - Individual Foods, Second Day","Dietary Interview Technical Support File - Modification Codes","Dietary Interview Technical Support File - Food Codes","Dietary Supplement Use 30 Day - Individual Dietary Supplements","Dietary Supplement Use 30-Day - Total Dietary Supplements","Dietary Supplement Use 24-Hour - Individual Dietary Supplements, First Day","Dietary Supplement Use 24-Hour - Individual Dietary Supplements, Second Day","Dietary Supplement Use 24-Hour - Total Dietary Supplements, First Day","Dietary Supplement Use 24-Hour - Total Dietary Supplements, Second Day"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Data.File.Name<\/th>\n      <th>Data.File.Description<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Data.File.Name","targets":1},{"name":"Data.File.Description","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Note BPX_G: Blood Pressure (may also need BMX_G/body measures)</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="fu">nhanesTables</span>(<span class="st">'EXAM'</span>, <span class="dv">2012</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item" id="htmlwidget-b423b4996a22a56ce6c3" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-b423b4996a22a56ce6c3">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20"],["TBX_G","BPX_G","ENX_G","SPX_G","SPXRAW_G","OHXPER_G","OHXREF_G","MGX_G","BMX_G","AUX_G","AUXAR_G","AUXTYM_G","FLXCLN_G","OHXDEN_G","DXX_G","DXXAG_G","PAXDAY_G","PAXHD_G","PAXHR_G","PAXMIN_G"],["Tuberculosis","Blood Pressure","Exhaled Nitric Oxide","Spirometry - Pre and Post-Bronchodilator","Spirometry - Raw Curve Data","Oral Health - Periodontal","Oral Health - Recommendation of Care","Muscle Strength - Grip Test","Body Measures","Audiometry","Audiometry - Acoustic Reflex","Audiometry - Tympanometry","Fluorosis - Clinical","Oral Health - Dentition","Dual-Energy X-ray Absorptiometry - Whole Body","Dual-Energy X-ray Absorptiometry - Android/Gynoid Measurements","Physical Activity Monitor - Day","Physical Activity Monitor - Header","Physical Activity Monitor - Hour","Physical Activity Monitor - Minute"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Data.File.Name<\/th>\n      <th>Data.File.Description<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Data.File.Name","targets":1},{"name":"Data.File.Description","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Note DEMO_G: Demographic Info (the only table)</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="fu">nhanesTables</span>(<span class="st">'DEMO'</span>, <span class="dv">2012</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item" id="htmlwidget-49149732f277c1acecb2" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-49149732f277c1acecb2">{"x":{"filter":"none","vertical":false,"data":[["1"],["DEMO_G"],["Demographic Variables &amp; Sample Weights"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Data.File.Name<\/th>\n      <th>Data.File.Description<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Data.File.Name","targets":1},{"name":"Data.File.Description","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="identify-variables-of-interest" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="identify-variables-of-interest"><span class="header-section-number">2.2</span> Identify Variables of Interest</h2>
<p>Now that we have identified the tables we need, first take a look at the required variables in the table of dietary information:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="fu">nhanesTableVars</span>(<span class="st">'DIET'</span>, <span class="st">'DR1TOT_G'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item" id="htmlwidget-a0128b11b25b1db8efc8" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-a0128b11b25b1db8efc8">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166"],["DBD100","DBQ095Z","DR1_300","DR1_320Z","DR1_330Z","DR1BWATZ","DR1DAY","DR1DBIH","DR1DRSTZ","DR1EXMER","DR1HELPD","DR1LANG","DR1MNRSP","DR1TACAR","DR1TALCO","DR1TATOA","DR1TATOC","DR1TB12A","DR1TBCAR","DR1TCAFF","DR1TCALC","DR1TCARB","DR1TCHL","DR1TCHOL","DR1TCOPP","DR1TCRYP","DR1TFA","DR1TFDFE","DR1TFF","DR1TFIBE","DR1TFOLA","DR1TIRON","DR1TKCAL","DR1TLYCO","DR1TLZ","DR1TM161","DR1TM181","DR1TM201","DR1TM221","DR1TMAGN","DR1TMFAT","DR1TMOIS","DR1TNIAC","DR1TNUMF","DR1TP182","DR1TP183","DR1TP184","DR1TP204","DR1TP205","DR1TP225","DR1TP226","DR1TPFAT","DR1TPHOS","DR1TPOTA","DR1TPROT","DR1TRET","DR1TS040","DR1TS060","DR1TS080","DR1TS100","DR1TS120","DR1TS140","DR1TS160","DR1TS180","DR1TSELE","DR1TSFAT","DR1TSODI","DR1TSUGR","DR1TTFAT","DR1TTHEO","DR1TVARA","DR1TVB1","DR1TVB12","DR1TVB2","DR1TVB6","DR1TVC","DR1TVD","DR1TVK","DR1TWS","DR1TZINC","DRABF","DRD340","DRD350A","DRD350AQ","DRD350B","DRD350BQ","DRD350C","DRD350CQ","DRD350D","DRD350DQ","DRD350E","DRD350EQ","DRD350F","DRD350FQ","DRD350G","DRD350GQ","DRD350H","DRD350HQ","DRD350I","DRD350IQ","DRD350J","DRD350JQ","DRD350K","DRD360","DRD370A","DRD370AQ","DRD370B","DRD370BQ","DRD370C","DRD370CQ","DRD370D","DRD370DQ","DRD370E","DRD370EQ","DRD370F","DRD370FQ","DRD370G","DRD370GQ","DRD370H","DRD370HQ","DRD370I","DRD370IQ","DRD370J","DRD370JQ","DRD370K","DRD370KQ","DRD370L","DRD370LQ","DRD370M","DRD370MQ","DRD370N","DRD370NQ","DRD370O","DRD370OQ","DRD370P","DRD370PQ","DRD370Q","DRD370QQ","DRD370R","DRD370RQ","DRD370S","DRD370SQ","DRD370T","DRD370TQ","DRD370U","DRD370UQ","DRD370V","DRDINT","DRQSDIET","DRQSDT1","DRQSDT10","DRQSDT11","DRQSDT12","DRQSDT2","DRQSDT3","DRQSDT4","DRQSDT5","DRQSDT6","DRQSDT7","DRQSDT8","DRQSDT9","DRQSDT91","DRQSPREP","SEQN","WTDR2D","WTDRD1"],["How often {do you/does SP} add ordinary salt to {your/his/her/SP's} food at the table?  Would you say . . .","What type of salt {do you/does SP} usually add to {your/his/her/SP's} food at the table?  Would you say . . .","Was the amount of food that {you/NAME} ate yesterday much more than usual, usual, or much less than usual?","Total plain water drank yesterday - including plain tap water, water from a drinking fountain, water from a water cooler, bottle","Total tap water drank yesterday - including filtered tap water and water from a drinking fountain.","Total bottled water drank yesterday (gm)","Intake day of the week","Number of days between intake day and the day of family questionnaire administered in the household.","Dietary recall status","Interviewer ID code","Who helped in responding for this interview","The respondent spoke mostly:","Who was the main respondent for this interview?","Alpha-carotene (mcg)","Alcohol (gm)","Added alpha-tocopherol (Vitamin E) (mg)","Vitamin E as alpha-tocopherol (mg)","Added vitamin B12 (mcg)","Beta-carotene (mcg)","Caffeine (mg)","Calcium (mg)","Carbohydrate (gm)","Total choline (mg)","Cholesterol (mg)","Copper (mg)","Beta-cryptoxanthin (mcg)","Folic acid (mcg)","Folate as dietary folate equivalents (mcg)","Food folate (mcg)","Dietary fiber (gm)","Total folate (mcg)","Iron (mg)","Energy (kcal)","Lycopene (mcg)","Lutein + zeaxanthin (mcg)","MFA 16:1 (Hexadecenoic) (gm)","MFA 18:1 (Octadecenoic) (gm)","MFA 20:1 (Eicosenoic) (gm)","MFA 22:1 (Docosenoic) (gm)","Magnesium (mg)","Total monounsaturated fatty acids (gm)","Moisture (gm)","Niacin (mg)","Total number of foods reported in the individual foods file","PFA 18:2 (Octadecadienoic) (gm)","PFA 18:3 (Octadecatrienoic) (gm)","PFA 18:4 (Octadecatetraenoic) (gm)","PFA 20:4 (Eicosatetraenoic) (gm)","PFA 20:5 (Eicosapentaenoic) (gm)","PFA 22:5 (Docosapentaenoic) (gm)","PFA 22:6 (Docosahexaenoic) (gm)","Total polyunsaturated fatty acids (gm)","Phosphorus (mg)","Potassium (mg)","Protein (gm)","Retinol (mcg)","SFA 4:0 (Butanoic) (gm)","SFA 6:0 (Hexanoic) (gm)","SFA 8:0 (Octanoic) (gm)","SFA 10:0 (Decanoic) (gm)","SFA 12:0 (Dodecanoic) (gm)","SFA 14:0 (Tetradecanoic) (gm)","SFA 16:0 (Hexadecanoic) (gm)","SFA 18:0 (Octadecanoic) (gm)","Selenium (mcg)","Total saturated fatty acids (gm)","Sodium (mg)","Total sugars (gm)","Total fat (gm)","Theobromine (mg)","Vitamin A as retinol activity equivalents (mcg)","Thiamin (Vitamin B1) (mg)","Vitamin B12 (mcg)","Riboflavin (Vitamin B2) (mg)","Vitamin B6 (mg)","Vitamin C (mg)","Vitamin D (D2 + D3) (mcg)","Vitamin K (mcg)","When you drink tap water, what is the main source of the tap water? Is the city water supply (community water supply); a well or","Zinc (mg)","Indicates whether the sample person was an infant who was breast-fed on either of the two recall days.","Please look at this list of shellfish. During the past 30 days did you eat any types of shellfish listed on this card? Include a","Clams eaten during past 30 days","Number of times clams were eaten in the past 30 days","Crabs eaten during past 30 days","Number of times crab was eaten in the past 30 days","Crayfish eaten during past 30 days","Number of times crayfish was eaten in the past 30 days","Lobsters eaten during past 30 days","Number of times lobster was eaten in the past 30 days","Mussels eaten during past 30 days","Number of times mussels were eaten in the past 30 days","Oysters eaten during past 30 days","Number of times oysters were eaten in the past 30 days","Scallops eaten during the past 30 days","Number of times scallops were eaten in the past 30 days","Shrimp eaten during past 30 days","Number of times shrimp was eaten in the last 30 days","Other shellfish ( ex. octopus, squid) eaten during past 30 days","Number of times other shellfish (ex. octopus, squid) was eaten in the past 30 days","Other unknown shellfish eaten during past 30 days","Number of times other unknown shellfish was eaten in the past 30 days","Refused to give detailed information on shellfish eaten during past 30 days","Please look at this list of fish. During the past 30 days did you eat any types of fish listed on this card? Include any foods t","Breaded fish products eaten during past 30 days","Number of times breaded fish products were eaten in the past 30 days","Tuna eaten during past 30 days","Number of times tuna was eaten in the past 30 days","Bass eaten during past 30 days","Number of times bass was eaten in the past 30 days","Catfish eaten during past 30 days","Number of times catfish was eaten in the past 30 days","Cod eaten during past 30 days","Number of times cod was eaten in the past 30 days","Flatfish eaten during past 30 days","Number of times flatfish was eaten in the past 30 days","Haddock eaten during past 30 days","Number of times haddock was eaten in the past 30 days","Mackerel eaten during past 30 days","Number of times mackerel was eaten in the past 30 days","Perch eaten during past 30 days","Number of times perch was eaten in the past 30 days","Pike eaten during past 30 days","Number of times pike was eaten in the past 30 days","Pollock eaten during past 30 days","Number of times pollock was eaten in the past 30 days","Porgy eaten during past 30 days","Number of times porgy was eaten in the past 30 days","Salmon eaten during past 30 days","Number of times salmon was eaten in the past 30 days","Sardines eaten during past 30 days","Number of times sardines were eaten in the past 30 days","Sea bass eaten during past 30 days","Number of times sea bass was eaten in the past 30 days","Shark eaten during past 30 days","Number of times shark was eaten in the past 30 days","Swordfish eaten during past 30 days","Number of times swordfish was eaten in the past 30 days","Trout eaten during past 30 days","Number of times trout was eaten in the past 30 days","Walleye eaten during the past 30 days","Number of times walleye was eaten in the past 30 days","Other type of fish eaten during past 30 days","Number of times other type of fish was eaten in the past 30 days","Other unknown type eaten during past 30 days","Number of times other unknown type of fish was eaten in the past 30 days","Refused to give detailed information on fish eaten during past 30 days","Indicates whether the sample person has intake data for one or two days.","Are you currently on any kind of diet, either to lose weight or for some other health-related reason?","What kind of diet are you on? (Is it a weight loss or low calorie diet: low fat or cholesterol diet; low salt or sodium diet; su","What kind of diet are you on? (Is it a weight loss or low calorie diet: low fat or cholesterol diet; low salt or sodium diet; su","What kind of diet are you on? (Is it a weight loss or low calorie diet: low fat or cholesterol diet; low salt or sodium diet; su","What kind of diet are you on? (Is it a weight loss or low calorie diet: low fat or cholesterol diet; low salt or sodium diet; su","What kind of diet are you on? (Is it a weight loss or low calorie diet: low fat or cholesterol diet; low salt or sodium diet; su","What kind of diet are you on? (Is it a weight loss or low calorie diet: low fat or cholesterol diet; low salt or sodium diet; su","What kind of diet are you on? (Is it a weight loss or low calorie diet: low fat or cholesterol diet; low salt or sodium diet; su","What kind of diet are you on? (Is it a weight loss or low calorie diet: low fat or cholesterol diet; low salt or sodium diet; su","What kind of diet are you on? (Is it a weight loss or low calorie diet: low fat or cholesterol diet; low salt or sodium diet; su","What kind of diet are you on? (Is it a weight loss or low calorie diet: low fat or cholesterol diet; low salt or sodium diet; su","What kind of diet are you on? (Is it a weight loss or low calorie diet: low fat or cholesterol diet; low salt or sodium diet; su","What kind of diet are you on? (Is it a weight loss or low calorie diet: low fat or cholesterol diet; low salt or sodium diet; su","What kind of diet are you on? (Is it a weight loss or low calorie diet: low fat or cholesterol diet; low salt or sodium diet; su","How often is ordinary salt or seasoned salt added in cooking or preparing foods in your household?  Is it never, rarely, occasio","Respondent sequence number.","Dietary two-day sample weight","Dietary day one sample weight"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Variable.Name<\/th>\n      <th>Variable.Description<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Variable.Name","targets":1},{"name":"Variable.Description","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>We can then identify the variables corresponding to each dietary measure of interest:</p>
<table class="table">
<thead>
<tr class="header">
<th>Dietary Measure</th>
<th>Variable Name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Sodium (mg)</td>
<td>DR1TSODI</td>
</tr>
<tr class="even">
<td>Potassium (mg)</td>
<td>DR1TPOTA</td>
</tr>
<tr class="odd">
<td>Calcium (mg)</td>
<td>DR1TCALC</td>
</tr>
<tr class="even">
<td>Magnesium (mg)</td>
<td>DR1TMAGN</td>
</tr>
<tr class="odd">
<td>Protein (gm)</td>
<td>DR1TPROT</td>
</tr>
<tr class="even">
<td>Alcohol (gm)</td>
<td>DR1TALCO</td>
</tr>
<tr class="odd">
<td>Energy (kcal)</td>
<td>DR1TKCAL</td>
</tr>
</tbody>
</table>
<p>We will also need to include SEQN, which corresponds to to the respondent ID number. This will be the column used for combining the different tables together.</p>
<p>Let’s next look at the variables in the blood pressure table:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="fu">nhanesTableVars</span>(<span class="st">'EXAM'</span>, <span class="st">'BPX_G'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item" id="htmlwidget-6d6a68fe962431c0c84b" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-6d6a68fe962431c0c84b">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27"],["BPAARM","BPACSZ","BPAEN1","BPAEN2","BPAEN3","BPAEN4","BPQ150A","BPQ150B","BPQ150C","BPQ150D","BPXCHR","BPXDI1","BPXDI2","BPXDI3","BPXDI4","BPXML1","BPXPLS","BPXPTY","BPXPULS","BPXSY1","BPXSY2","BPXSY3","BPXSY4","PEASCCT1","PEASCST1","PEASCTM1","SEQN"],["Arm selected:","Cuff size (cm) (width X length)","Enhancement used first reading","Enhancement used second reading","Enhancement used third reading","Enhancement used fourth reading","Have you had any of the following in the past 30 minutes?:  Food","Have you had any of the following in the past 30 minutes?:  Alcohol","Have you had any of the following in the past 30 minutes?:  Coffee","Have you had any of the following in the past 30 minutes?:  Cigarettes","60 sec HR (30 sec HR * 2)","Diastolic:  Blood pressure (first reading) mm Hg","Diastolic: Blood pressure (second reading) mm Hg","Diastolic: Blood pressure (third reading) mm Hg","Diastolic: Blood pressure (fourth reading if necessary) mm Hg","MIL: maximum inflation levels (mm Hg)","60 sec. pulse (30 sec. pulse * 2)","Pulse type","Pulse regular or irregular?","Systolic:  Blood pressure (first reading) mm Hg","Systolic:  Blood pressure (second reading) mm Hg","Systolic:  Blood pressure (third reading) mm Hg","Systolic:  Blood pressure (fourth reading if necessary) mm Hg","Blood Pressure Comment","Blood Pressure Status","Blood Pressure Time in Seconds","Respondent sequence number."]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Variable.Name<\/th>\n      <th>Variable.Description<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"Variable.Name","targets":1},{"name":"Variable.Description","targets":2}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>We are interested in BPXSY1 and BPXDI1 for systolic and diastolic blood pressure, respectively</p>
</section>
<section id="merge-data-together" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="merge-data-together"><span class="header-section-number">2.3</span> Merge Data Together</h2>
<p>Take the diet data: there are two separate tables for measurements taken on different days. We can combine this using the merge() function.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>d1_diet_d <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'DR1TOT_G'</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>d2_diet_d <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'DR2TOT_G'</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co">#concatenate the diet data for two days together</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>diet_d <span class="ot">&lt;-</span> <span class="fu">merge</span>(d1_diet_d, d2_diet_d, )</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="fu">head</span>(diet_d))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item" id="htmlwidget-2eef053c61f58a5483a4" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-2eef053c61f58a5483a4">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6"],[62161,62162,62163,62164,62165,62166],[58373.37571554707,15886.6092649455,3876.441103707255,70653.58005603831,5910.002709052765,null],[46955.91201766235,13901.17026626425,2755.0616057654,52879.47947792106,9478.001855983521,null],[2,2,2,2,2,null],[2,2,2,2,2,null],[1,1,1,1,1,5],[63,42,25,42,25,null],[9,29,3,19,12,null],[6,1,6,7,6,null],[1,1,1,1,1,null],[1,2,1,1,1,null],[2,13,13,13,13,null],[1,1,1,4,1,null],[1,2,2,null,1,null],[4,3,4,1,3,null],[2,2,2,2,2,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[null,null,null,null,null,null],[13,12,9,20,10,null],[2969,1494,1789,1115,1472,null],[104.68,61.09,72.64,73.13000000000001,76.35000000000001,null],[359.59,203.18,280.23,91.67,143.52,null],[109.09,112.71,114.94,32.29,72.34,null],[18.6,9,7.399999999999999,9.5,6.899999999999999,null],[123.81,48.94,41.95,51.54000000000001,67.8,null],[40.76300000000001,18.998,14.386,10.697,18.616,null],[43.67299999999999,15.287,19.52800000000001,21.13299999999999,21.394,null],[31.878,11.302,5.029999999999999,15.144,23.022,null],[328,202,138,207,260,null],[8.470000000000001,4.06,2.61,4.52,7.86,null],[0,0,0,0,0,null],[721,304,999,15,182,null],[737,325,1006,66,193,null],[7,0,0,41,1,null],[194,255,75,567,133,null],[9,2,0,82,0,null],[0,6353,3480,2146,2571,null],[427,138,87,614,87,null],[2.115,0.9189999999999999,1.782,0.584,0.651,null],[2.383,1.295,2.797,1.435,1.057,null],[23.428,18.892,19.352,16.794,23.861,null],[1.414,1.314,1.886,1.48,1.085,null],[432,332,567,130,177,null],[253,215,487,0,79,null],[179,118,81,130,98,null],[610,480,911,130,233,null],[310.6,157.3,268.6,198.9,186.7,null],[3.89,3.4,9.69,0.54,1.67,null],[0,1.29,2.49,0,0,null],[64.90000000000001,15.7,12.5,49.90000000000001,2.4,null],[7.1,2.1,14.5,0.1,1.9,null],[54.40000000000001,39.1,22,98.19999999999999,21.7,null],[1961,789,1495,396,637,null],[2142,910,1573,835,1098,null],[333,136,256,189,149,null],[17.96,12.27,26.93,5.27,6.59,null],[11.62,9.69,16.66,4.82,5.56,null],[1.248,0.5660000000000001,0.8399999999999999,0.911,1.147,null],[4975,2262,3071,3392,2421,null],[2473,1180,2552,1953,1347,null],[152.1,86.30000000000001,96.3,89.50000000000001,97.10000000000001,null],[0,3,3,251,21,null],[0,22,121,0,28,null],[0,0,0,0,0,null],[2570.53,1220.03,1306.1,5104.52,1267.16,null],[1.403,0.394,0.042,0,0.35,null],[0.5569999999999999,0.319,0,0,0.117,null],[0.353,0.217,0.012,0.015,0.08600000000000001,null],[0.7370000000000001,0.451,0.05,0.043,0.188,null],[0.657,0.496,0.058,0.145,0.161,null],[4.184999999999999,1.79,0.786,0.188,1.217,null],[22.436,10.552,9.288,6.387,11.6,null],[8.625999999999999,4.25,3.834,3.427999999999999,4.225,null],[1.957,0.7929999999999999,1.41,0.8280000000000001,1.794,null],[40.47199999999999,14.156,17.836,19.562,18.848,null],[0.339,0.157,0.125,0.156,0.182,null],[0.007,0.01,0.008,0.105,0.007,null],[29.565,9.880000000000001,4.399,13.196,21.319,null],[1.966,1.127,0.5940000000000001,1.407999999999999,0.958,null],[0.004,0.005,0,0.036,0.017,null],[0.112,0.136,0.021,0.21,0.121,null],[0.005,0.011,0.001,0.004,0.006,null],[0.006,0.024,0.006,0.022,0.011,null],[0.024,0.009000000000000001,0,0.024,0.007,null],[2,2,3,2,3,null],[1420,472.19,0,3555,500,null],[1420,0,0,3555,0,null],[0,472.19,0,0,500,null],[1,1,99,1,4,null],[2,1,2,2,1,null],[null,2,null,null,2,null],[null,null,null,null,null,null],[null,2,null,null,1,null],[null,null,null,null,1,null],[null,2,null,null,2,null],[null,null,null,null,null,null],[null,2,null,null,1,null],[null,null,null,null,1,null],[null,2,null,null,2,null],[null,null,null,null,null,null],[null,2,null,null,2,null],[null,null,null,null,null,null],[null,2,null,null,2,null],[null,null,null,null,null,null],[null,1,null,null,1,null],[null,1,null,null,3,null],[null,2,null,null,2,null],[null,null,null,null,null,null],[null,2,null,null,2,null],[null,null,null,null,null,null],[null,2,null,null,2,null],[2,2,1,1,1,null],[null,null,2,2,2,null],[null,null,null,null,null,null],[null,null,2,1,1,null],[null,null,null,5,2,null],[null,null,2,2,2,null],[null,null,null,null,null,null],[null,null,2,2,2,null],[null,null,null,null,null,null],[null,null,2,2,1,null],[null,null,null,null,1,null],[null,null,2,1,2,null],[null,null,null,1,null,null],[null,null,2,2,2,null],[null,null,null,null,null,null],[null,null,2,2,2,null],[null,null,null,null,null,null],[null,null,2,2,2,null],[null,null,null,null,null,null],[null,null,2,2,2,null],[null,null,null,null,null,null],[null,null,2,2,2,null],[null,null,null,null,null,null],[null,null,2,2,2,null],[null,null,null,null,null,null],[null,null,1,2,2,null],[null,null,2,null,null,null],[null,null,2,2,2,null],[null,null,null,null,null,null],[null,null,2,2,2,null],[null,null,null,null,null,null],[null,null,2,2,2,null],[null,null,null,null,null,null],[null,null,2,2,2,null],[null,null,null,null,null,null],[null,null,2,2,2,null],[null,null,null,null,null,null],[null,null,2,2,2,null],[null,null,null,null,null,null],[null,null,2,2,2,null],[null,null,null,null,null,null],[null,null,2,2,2,null],[null,null,null,null,null,null],[null,null,2,2,2,null],[1,1,1,1,1,5],[46,35,48,87,48,null],[20,37,7,23,21,null],[3,2,3,4,1,null],[1,1,1,1,1,null],[1,2,1,1,1,null],[13,13,13,13,13,null],[11,16,10,15,11,null],[3567,1538,1777,2372,1341,null],[110.25,40.28,73.81,85.79000000000001,49.11000000000001,null],[462.77,226.69,184.74,253.65,190.02,null],[232.37,99.52,62.74,48.97000000000001,67.38,null],[21.2,16.2,10.9,25.7,10.6,null],[148.07,54.47999999999999,82.63,28.72,44.43000000000001,null],[25.083,18.57,29.469,6.757,8.550000000000001,null],[60.764,20.426,25.852,9.717000000000002,14.759,null],[49.217,11.958,19.24,8.799000000000001,17.861,null],[213,99,185,122,147,null],[14.54,4.92,9.220000000000001,8.129999999999999,9.140000000000001,null],[0,0,0,0,0,null],[350,402,319,162,130,null],[397,431,422,2189,131,null],[234,7,56,368,0,null],[462,323,1152,24110,9,null],[0,26,78,53,0,null],[338,6071,12514,11318,0,null],[198,388,861,425,138,null],[2.27,1.226,0.981,1.336,0.7660000000000001,null],[2.039,1.462,1.456,2.655,0.828,null],[38.263,18.811,13.912,35.451,14.581,null],[2.721,1.488,1.142,3.266999999999999,1.147,null],[265,355,174,349,159,null],[76,203,84,19,62,null],[189,152,91,330,97,null],[320,497,234,362,202,null],[455.3,144.1,218,519.9,131.5,null],[4.109999999999999,3.72,7.47,2.52,1,null],[0,1.83,0,0,0,null],[47.7,34.9,14.6,61.4,47.9,null],[7.7,5.3,6,1.8,1.3,null],[274.4,30.3,94.99999999999999,68.3,26.5,null],[1104,827,1190,681,309,null],[2133,980,1546,1451,911,null],[344,181,199,475,244,null],[15.48,13.52,8.09,11.13,5.75,null],[11.47,9.399999999999999,11.29,8.4,7.000000000000001,null],[0.9560000000000001,0.782,0.67,1.527,1.013,null],[3683,2662,4215,3718,1671,null],[4265,1783,1978,3900,871,null],[134.9,57.59999999999999,111.4,105.2,93.59999999999998,null],[44,22,16,190,40,null],[31,2,0,30,72,null],[0,0,0,112.3,0,null],[2490.19,1389.41,1487.68,4485.74,1176.98,null],[0.121,0.512,0.599,0.009000000000000001,0.028,null],[0,0.292,0.526,0,0.023,null],[0.058,0.286,0.469,0.002,0.056,null],[0.08400000000000001,0.369,0.6819999999999999,0.017,0.066,null],[0.06100000000000001,0.345,0.728,0.03,0.284,null],[0.4330000000000001,1.95,3.146,0.133,0.259,null],[15.288,9.831999999999999,15.422,4.444999999999999,5.577,null],[7.435,4.284,6.938000000000001,1.973,1.941,null],[1.149,0.746,1.078,0.396,0.643,null],[58.175,19.21,23.817,9.050000000000001,13.957,null],[1.182,0.245,0.26,0.061,0.123,null],[0.041,0.021,0.006,0,0.001,null],[43.686,10.299,16.942,7.827,16.359,null],[5.052,1.53,1.878,0.619,1.259,null],[0.002,0.001,0.001,0,0.003,null],[0.207,0.046,0.07300000000000001,0.136,0.134,null],[0.011,0.005,0.003,0.008,0.006,null],[0.016,0.005,0.025,0.013,0.013,null],[0.013,0.003,0.001,0.01,0.009999999999999998,null],[1,2,2,2,2,null],[0,118.5,429.56,0,222.19,null],[0,0,429.56,0,0,null],[0,118.5,0,0,222.19,null],[1,1,99,1,4,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>SEQN<\/th>\n      <th>WTDRD1<\/th>\n      <th>WTDR2D<\/th>\n      <th>DRABF<\/th>\n      <th>DRDINT<\/th>\n      <th>DR1DRSTZ<\/th>\n      <th>DR1EXMER<\/th>\n      <th>DR1DBIH<\/th>\n      <th>DR1DAY<\/th>\n      <th>DR1LANG<\/th>\n      <th>DR1MNRSP<\/th>\n      <th>DR1HELPD<\/th>\n      <th>DBQ095Z<\/th>\n      <th>DBD100<\/th>\n      <th>DRQSPREP<\/th>\n      <th>DRQSDIET<\/th>\n      <th>DRQSDT1<\/th>\n      <th>DRQSDT2<\/th>\n      <th>DRQSDT3<\/th>\n      <th>DRQSDT4<\/th>\n      <th>DRQSDT5<\/th>\n      <th>DRQSDT6<\/th>\n      <th>DRQSDT7<\/th>\n      <th>DRQSDT8<\/th>\n      <th>DRQSDT9<\/th>\n      <th>DRQSDT10<\/th>\n      <th>DRQSDT11<\/th>\n      <th>DRQSDT12<\/th>\n      <th>DRQSDT91<\/th>\n      <th>DR1TNUMF<\/th>\n      <th>DR1TKCAL<\/th>\n      <th>DR1TPROT<\/th>\n      <th>DR1TCARB<\/th>\n      <th>DR1TSUGR<\/th>\n      <th>DR1TFIBE<\/th>\n      <th>DR1TTFAT<\/th>\n      <th>DR1TSFAT<\/th>\n      <th>DR1TMFAT<\/th>\n      <th>DR1TPFAT<\/th>\n      <th>DR1TCHOL<\/th>\n      <th>DR1TATOC<\/th>\n      <th>DR1TATOA<\/th>\n      <th>DR1TRET<\/th>\n      <th>DR1TVARA<\/th>\n      <th>DR1TACAR<\/th>\n      <th>DR1TBCAR<\/th>\n      <th>DR1TCRYP<\/th>\n      <th>DR1TLYCO<\/th>\n      <th>DR1TLZ<\/th>\n      <th>DR1TVB1<\/th>\n      <th>DR1TVB2<\/th>\n      <th>DR1TNIAC<\/th>\n      <th>DR1TVB6<\/th>\n      <th>DR1TFOLA<\/th>\n      <th>DR1TFA<\/th>\n      <th>DR1TFF<\/th>\n      <th>DR1TFDFE<\/th>\n      <th>DR1TCHL<\/th>\n      <th>DR1TVB12<\/th>\n      <th>DR1TB12A<\/th>\n      <th>DR1TVC<\/th>\n      <th>DR1TVD<\/th>\n      <th>DR1TVK<\/th>\n      <th>DR1TCALC<\/th>\n      <th>DR1TPHOS<\/th>\n      <th>DR1TMAGN<\/th>\n      <th>DR1TIRON<\/th>\n      <th>DR1TZINC<\/th>\n      <th>DR1TCOPP<\/th>\n      <th>DR1TSODI<\/th>\n      <th>DR1TPOTA<\/th>\n      <th>DR1TSELE<\/th>\n      <th>DR1TCAFF<\/th>\n      <th>DR1TTHEO<\/th>\n      <th>DR1TALCO<\/th>\n      <th>DR1TMOIS<\/th>\n      <th>DR1TS040<\/th>\n      <th>DR1TS060<\/th>\n      <th>DR1TS080<\/th>\n      <th>DR1TS100<\/th>\n      <th>DR1TS120<\/th>\n      <th>DR1TS140<\/th>\n      <th>DR1TS160<\/th>\n      <th>DR1TS180<\/th>\n      <th>DR1TM161<\/th>\n      <th>DR1TM181<\/th>\n      <th>DR1TM201<\/th>\n      <th>DR1TM221<\/th>\n      <th>DR1TP182<\/th>\n      <th>DR1TP183<\/th>\n      <th>DR1TP184<\/th>\n      <th>DR1TP204<\/th>\n      <th>DR1TP205<\/th>\n      <th>DR1TP225<\/th>\n      <th>DR1TP226<\/th>\n      <th>DR1_300<\/th>\n      <th>DR1_320Z<\/th>\n      <th>DR1_330Z<\/th>\n      <th>DR1BWATZ<\/th>\n      <th>DR1TWS<\/th>\n      <th>DRD340<\/th>\n      <th>DRD350A<\/th>\n      <th>DRD350AQ<\/th>\n      <th>DRD350B<\/th>\n      <th>DRD350BQ<\/th>\n      <th>DRD350C<\/th>\n      <th>DRD350CQ<\/th>\n      <th>DRD350D<\/th>\n      <th>DRD350DQ<\/th>\n      <th>DRD350E<\/th>\n      <th>DRD350EQ<\/th>\n      <th>DRD350F<\/th>\n      <th>DRD350FQ<\/th>\n      <th>DRD350G<\/th>\n      <th>DRD350GQ<\/th>\n      <th>DRD350H<\/th>\n      <th>DRD350HQ<\/th>\n      <th>DRD350I<\/th>\n      <th>DRD350IQ<\/th>\n      <th>DRD350J<\/th>\n      <th>DRD350JQ<\/th>\n      <th>DRD350K<\/th>\n      <th>DRD360<\/th>\n      <th>DRD370A<\/th>\n      <th>DRD370AQ<\/th>\n      <th>DRD370B<\/th>\n      <th>DRD370BQ<\/th>\n      <th>DRD370C<\/th>\n      <th>DRD370CQ<\/th>\n      <th>DRD370D<\/th>\n      <th>DRD370DQ<\/th>\n      <th>DRD370E<\/th>\n      <th>DRD370EQ<\/th>\n      <th>DRD370F<\/th>\n      <th>DRD370FQ<\/th>\n      <th>DRD370G<\/th>\n      <th>DRD370GQ<\/th>\n      <th>DRD370H<\/th>\n      <th>DRD370HQ<\/th>\n      <th>DRD370I<\/th>\n      <th>DRD370IQ<\/th>\n      <th>DRD370J<\/th>\n      <th>DRD370JQ<\/th>\n      <th>DRD370K<\/th>\n      <th>DRD370KQ<\/th>\n      <th>DRD370L<\/th>\n      <th>DRD370LQ<\/th>\n      <th>DRD370M<\/th>\n      <th>DRD370MQ<\/th>\n      <th>DRD370N<\/th>\n      <th>DRD370NQ<\/th>\n      <th>DRD370O<\/th>\n      <th>DRD370OQ<\/th>\n      <th>DRD370P<\/th>\n      <th>DRD370PQ<\/th>\n      <th>DRD370Q<\/th>\n      <th>DRD370QQ<\/th>\n      <th>DRD370R<\/th>\n      <th>DRD370RQ<\/th>\n      <th>DRD370S<\/th>\n      <th>DRD370SQ<\/th>\n      <th>DRD370T<\/th>\n      <th>DRD370TQ<\/th>\n      <th>DRD370U<\/th>\n      <th>DRD370UQ<\/th>\n      <th>DRD370V<\/th>\n      <th>DR2DRSTZ<\/th>\n      <th>DR2EXMER<\/th>\n      <th>DR2DBIH<\/th>\n      <th>DR2DAY<\/th>\n      <th>DR2LANG<\/th>\n      <th>DR2MNRSP<\/th>\n      <th>DR2HELPD<\/th>\n      <th>DR2TNUMF<\/th>\n      <th>DR2TKCAL<\/th>\n      <th>DR2TPROT<\/th>\n      <th>DR2TCARB<\/th>\n      <th>DR2TSUGR<\/th>\n      <th>DR2TFIBE<\/th>\n      <th>DR2TTFAT<\/th>\n      <th>DR2TSFAT<\/th>\n      <th>DR2TMFAT<\/th>\n      <th>DR2TPFAT<\/th>\n      <th>DR2TCHOL<\/th>\n      <th>DR2TATOC<\/th>\n      <th>DR2TATOA<\/th>\n      <th>DR2TRET<\/th>\n      <th>DR2TVARA<\/th>\n      <th>DR2TACAR<\/th>\n      <th>DR2TBCAR<\/th>\n      <th>DR2TCRYP<\/th>\n      <th>DR2TLYCO<\/th>\n      <th>DR2TLZ<\/th>\n      <th>DR2TVB1<\/th>\n      <th>DR2TVB2<\/th>\n      <th>DR2TNIAC<\/th>\n      <th>DR2TVB6<\/th>\n      <th>DR2TFOLA<\/th>\n      <th>DR2TFA<\/th>\n      <th>DR2TFF<\/th>\n      <th>DR2TFDFE<\/th>\n      <th>DR2TCHL<\/th>\n      <th>DR2TVB12<\/th>\n      <th>DR2TB12A<\/th>\n      <th>DR2TVC<\/th>\n      <th>DR2TVD<\/th>\n      <th>DR2TVK<\/th>\n      <th>DR2TCALC<\/th>\n      <th>DR2TPHOS<\/th>\n      <th>DR2TMAGN<\/th>\n      <th>DR2TIRON<\/th>\n      <th>DR2TZINC<\/th>\n      <th>DR2TCOPP<\/th>\n      <th>DR2TSODI<\/th>\n      <th>DR2TPOTA<\/th>\n      <th>DR2TSELE<\/th>\n      <th>DR2TCAFF<\/th>\n      <th>DR2TTHEO<\/th>\n      <th>DR2TALCO<\/th>\n      <th>DR2TMOIS<\/th>\n      <th>DR2TS040<\/th>\n      <th>DR2TS060<\/th>\n      <th>DR2TS080<\/th>\n      <th>DR2TS100<\/th>\n      <th>DR2TS120<\/th>\n      <th>DR2TS140<\/th>\n      <th>DR2TS160<\/th>\n      <th>DR2TS180<\/th>\n      <th>DR2TM161<\/th>\n      <th>DR2TM181<\/th>\n      <th>DR2TM201<\/th>\n      <th>DR2TM221<\/th>\n      <th>DR2TP182<\/th>\n      <th>DR2TP183<\/th>\n      <th>DR2TP184<\/th>\n      <th>DR2TP204<\/th>\n      <th>DR2TP205<\/th>\n      <th>DR2TP225<\/th>\n      <th>DR2TP226<\/th>\n      <th>DR2_300<\/th>\n      <th>DR2_320Z<\/th>\n      <th>DR2_330Z<\/th>\n      <th>DR2BWATZ<\/th>\n      <th>DR2TWS<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"SEQN","targets":1},{"name":"WTDRD1","targets":2},{"name":"WTDR2D","targets":3},{"name":"DRABF","targets":4},{"name":"DRDINT","targets":5},{"name":"DR1DRSTZ","targets":6},{"name":"DR1EXMER","targets":7},{"name":"DR1DBIH","targets":8},{"name":"DR1DAY","targets":9},{"name":"DR1LANG","targets":10},{"name":"DR1MNRSP","targets":11},{"name":"DR1HELPD","targets":12},{"name":"DBQ095Z","targets":13},{"name":"DBD100","targets":14},{"name":"DRQSPREP","targets":15},{"name":"DRQSDIET","targets":16},{"name":"DRQSDT1","targets":17},{"name":"DRQSDT2","targets":18},{"name":"DRQSDT3","targets":19},{"name":"DRQSDT4","targets":20},{"name":"DRQSDT5","targets":21},{"name":"DRQSDT6","targets":22},{"name":"DRQSDT7","targets":23},{"name":"DRQSDT8","targets":24},{"name":"DRQSDT9","targets":25},{"name":"DRQSDT10","targets":26},{"name":"DRQSDT11","targets":27},{"name":"DRQSDT12","targets":28},{"name":"DRQSDT91","targets":29},{"name":"DR1TNUMF","targets":30},{"name":"DR1TKCAL","targets":31},{"name":"DR1TPROT","targets":32},{"name":"DR1TCARB","targets":33},{"name":"DR1TSUGR","targets":34},{"name":"DR1TFIBE","targets":35},{"name":"DR1TTFAT","targets":36},{"name":"DR1TSFAT","targets":37},{"name":"DR1TMFAT","targets":38},{"name":"DR1TPFAT","targets":39},{"name":"DR1TCHOL","targets":40},{"name":"DR1TATOC","targets":41},{"name":"DR1TATOA","targets":42},{"name":"DR1TRET","targets":43},{"name":"DR1TVARA","targets":44},{"name":"DR1TACAR","targets":45},{"name":"DR1TBCAR","targets":46},{"name":"DR1TCRYP","targets":47},{"name":"DR1TLYCO","targets":48},{"name":"DR1TLZ","targets":49},{"name":"DR1TVB1","targets":50},{"name":"DR1TVB2","targets":51},{"name":"DR1TNIAC","targets":52},{"name":"DR1TVB6","targets":53},{"name":"DR1TFOLA","targets":54},{"name":"DR1TFA","targets":55},{"name":"DR1TFF","targets":56},{"name":"DR1TFDFE","targets":57},{"name":"DR1TCHL","targets":58},{"name":"DR1TVB12","targets":59},{"name":"DR1TB12A","targets":60},{"name":"DR1TVC","targets":61},{"name":"DR1TVD","targets":62},{"name":"DR1TVK","targets":63},{"name":"DR1TCALC","targets":64},{"name":"DR1TPHOS","targets":65},{"name":"DR1TMAGN","targets":66},{"name":"DR1TIRON","targets":67},{"name":"DR1TZINC","targets":68},{"name":"DR1TCOPP","targets":69},{"name":"DR1TSODI","targets":70},{"name":"DR1TPOTA","targets":71},{"name":"DR1TSELE","targets":72},{"name":"DR1TCAFF","targets":73},{"name":"DR1TTHEO","targets":74},{"name":"DR1TALCO","targets":75},{"name":"DR1TMOIS","targets":76},{"name":"DR1TS040","targets":77},{"name":"DR1TS060","targets":78},{"name":"DR1TS080","targets":79},{"name":"DR1TS100","targets":80},{"name":"DR1TS120","targets":81},{"name":"DR1TS140","targets":82},{"name":"DR1TS160","targets":83},{"name":"DR1TS180","targets":84},{"name":"DR1TM161","targets":85},{"name":"DR1TM181","targets":86},{"name":"DR1TM201","targets":87},{"name":"DR1TM221","targets":88},{"name":"DR1TP182","targets":89},{"name":"DR1TP183","targets":90},{"name":"DR1TP184","targets":91},{"name":"DR1TP204","targets":92},{"name":"DR1TP205","targets":93},{"name":"DR1TP225","targets":94},{"name":"DR1TP226","targets":95},{"name":"DR1_300","targets":96},{"name":"DR1_320Z","targets":97},{"name":"DR1_330Z","targets":98},{"name":"DR1BWATZ","targets":99},{"name":"DR1TWS","targets":100},{"name":"DRD340","targets":101},{"name":"DRD350A","targets":102},{"name":"DRD350AQ","targets":103},{"name":"DRD350B","targets":104},{"name":"DRD350BQ","targets":105},{"name":"DRD350C","targets":106},{"name":"DRD350CQ","targets":107},{"name":"DRD350D","targets":108},{"name":"DRD350DQ","targets":109},{"name":"DRD350E","targets":110},{"name":"DRD350EQ","targets":111},{"name":"DRD350F","targets":112},{"name":"DRD350FQ","targets":113},{"name":"DRD350G","targets":114},{"name":"DRD350GQ","targets":115},{"name":"DRD350H","targets":116},{"name":"DRD350HQ","targets":117},{"name":"DRD350I","targets":118},{"name":"DRD350IQ","targets":119},{"name":"DRD350J","targets":120},{"name":"DRD350JQ","targets":121},{"name":"DRD350K","targets":122},{"name":"DRD360","targets":123},{"name":"DRD370A","targets":124},{"name":"DRD370AQ","targets":125},{"name":"DRD370B","targets":126},{"name":"DRD370BQ","targets":127},{"name":"DRD370C","targets":128},{"name":"DRD370CQ","targets":129},{"name":"DRD370D","targets":130},{"name":"DRD370DQ","targets":131},{"name":"DRD370E","targets":132},{"name":"DRD370EQ","targets":133},{"name":"DRD370F","targets":134},{"name":"DRD370FQ","targets":135},{"name":"DRD370G","targets":136},{"name":"DRD370GQ","targets":137},{"name":"DRD370H","targets":138},{"name":"DRD370HQ","targets":139},{"name":"DRD370I","targets":140},{"name":"DRD370IQ","targets":141},{"name":"DRD370J","targets":142},{"name":"DRD370JQ","targets":143},{"name":"DRD370K","targets":144},{"name":"DRD370KQ","targets":145},{"name":"DRD370L","targets":146},{"name":"DRD370LQ","targets":147},{"name":"DRD370M","targets":148},{"name":"DRD370MQ","targets":149},{"name":"DRD370N","targets":150},{"name":"DRD370NQ","targets":151},{"name":"DRD370O","targets":152},{"name":"DRD370OQ","targets":153},{"name":"DRD370P","targets":154},{"name":"DRD370PQ","targets":155},{"name":"DRD370Q","targets":156},{"name":"DRD370QQ","targets":157},{"name":"DRD370R","targets":158},{"name":"DRD370RQ","targets":159},{"name":"DRD370S","targets":160},{"name":"DRD370SQ","targets":161},{"name":"DRD370T","targets":162},{"name":"DRD370TQ","targets":163},{"name":"DRD370U","targets":164},{"name":"DRD370UQ","targets":165},{"name":"DRD370V","targets":166},{"name":"DR2DRSTZ","targets":167},{"name":"DR2EXMER","targets":168},{"name":"DR2DBIH","targets":169},{"name":"DR2DAY","targets":170},{"name":"DR2LANG","targets":171},{"name":"DR2MNRSP","targets":172},{"name":"DR2HELPD","targets":173},{"name":"DR2TNUMF","targets":174},{"name":"DR2TKCAL","targets":175},{"name":"DR2TPROT","targets":176},{"name":"DR2TCARB","targets":177},{"name":"DR2TSUGR","targets":178},{"name":"DR2TFIBE","targets":179},{"name":"DR2TTFAT","targets":180},{"name":"DR2TSFAT","targets":181},{"name":"DR2TMFAT","targets":182},{"name":"DR2TPFAT","targets":183},{"name":"DR2TCHOL","targets":184},{"name":"DR2TATOC","targets":185},{"name":"DR2TATOA","targets":186},{"name":"DR2TRET","targets":187},{"name":"DR2TVARA","targets":188},{"name":"DR2TACAR","targets":189},{"name":"DR2TBCAR","targets":190},{"name":"DR2TCRYP","targets":191},{"name":"DR2TLYCO","targets":192},{"name":"DR2TLZ","targets":193},{"name":"DR2TVB1","targets":194},{"name":"DR2TVB2","targets":195},{"name":"DR2TNIAC","targets":196},{"name":"DR2TVB6","targets":197},{"name":"DR2TFOLA","targets":198},{"name":"DR2TFA","targets":199},{"name":"DR2TFF","targets":200},{"name":"DR2TFDFE","targets":201},{"name":"DR2TCHL","targets":202},{"name":"DR2TVB12","targets":203},{"name":"DR2TB12A","targets":204},{"name":"DR2TVC","targets":205},{"name":"DR2TVD","targets":206},{"name":"DR2TVK","targets":207},{"name":"DR2TCALC","targets":208},{"name":"DR2TPHOS","targets":209},{"name":"DR2TMAGN","targets":210},{"name":"DR2TIRON","targets":211},{"name":"DR2TZINC","targets":212},{"name":"DR2TCOPP","targets":213},{"name":"DR2TSODI","targets":214},{"name":"DR2TPOTA","targets":215},{"name":"DR2TSELE","targets":216},{"name":"DR2TCAFF","targets":217},{"name":"DR2TTHEO","targets":218},{"name":"DR2TALCO","targets":219},{"name":"DR2TMOIS","targets":220},{"name":"DR2TS040","targets":221},{"name":"DR2TS060","targets":222},{"name":"DR2TS080","targets":223},{"name":"DR2TS100","targets":224},{"name":"DR2TS120","targets":225},{"name":"DR2TS140","targets":226},{"name":"DR2TS160","targets":227},{"name":"DR2TS180","targets":228},{"name":"DR2TM161","targets":229},{"name":"DR2TM181","targets":230},{"name":"DR2TM201","targets":231},{"name":"DR2TM221","targets":232},{"name":"DR2TP182","targets":233},{"name":"DR2TP183","targets":234},{"name":"DR2TP184","targets":235},{"name":"DR2TP204","targets":236},{"name":"DR2TP205","targets":237},{"name":"DR2TP225","targets":238},{"name":"DR2TP226","targets":239},{"name":"DR2_300","targets":240},{"name":"DR2_320Z","targets":241},{"name":"DR2_330Z","targets":242},{"name":"DR2BWATZ","targets":243},{"name":"DR2TWS","targets":244}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>For this example, we take only the day 1 diet measures to create the “nutrients” dataframe:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>select_cols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'SEQN'</span>, <span class="st">'DR1TSODI'</span>, <span class="st">'DR1TPOTA'</span>, <span class="st">'DR1TCALC'</span>, <span class="st">'DR1TMAGN'</span>, <span class="st">'DR1TPROT'</span>, <span class="st">'DR1TALCO'</span>, <span class="st">'DR1TKCAL'</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>nutrients <span class="ot">&lt;-</span> diet_d[, select_cols]</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="fu">head</span>(nutrients))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item" id="htmlwidget-acca531b8f960ad37d5b" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-acca531b8f960ad37d5b">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6"],[62161,62162,62163,62164,62165,62166],[4975,2262,3071,3392,2421,null],[2473,1180,2552,1953,1347,null],[1961,789,1495,396,637,null],[333,136,256,189,149,null],[104.68,61.09,72.64,73.13000000000001,76.35000000000001,null],[0,0,0,0,0,null],[2969,1494,1789,1115,1472,null]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>SEQN<\/th>\n      <th>DR1TSODI<\/th>\n      <th>DR1TPOTA<\/th>\n      <th>DR1TCALC<\/th>\n      <th>DR1TMAGN<\/th>\n      <th>DR1TPROT<\/th>\n      <th>DR1TALCO<\/th>\n      <th>DR1TKCAL<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"SEQN","targets":1},{"name":"DR1TSODI","targets":2},{"name":"DR1TPOTA","targets":3},{"name":"DR1TCALC","targets":4},{"name":"DR1TMAGN","targets":5},{"name":"DR1TPROT","targets":6},{"name":"DR1TALCO","targets":7},{"name":"DR1TKCAL","targets":8}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>demo <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'DEMO_G'</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="fu">head</span>(demo))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item" id="htmlwidget-b7e775cb74dbde095aa9" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-b7e775cb74dbde095aa9">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6"],[62161,62162,62163,62164,62165,62166],[7,7,7,7,7,7],[2,2,2,2,2,2],[1,2,1,2,2,1],[22,3,14,44,14,9],[null,null,null,null,null,null],[3,1,5,3,4,3],[3,1,6,3,4,3],[2,1,2,1,2,2],[null,3,14,null,14,10],[null,41,177,null,179,120],[2,null,null,1,null,null],[null,null,null,2,null,null],[1,1,1,1,1,1],[1,1,1,1,1,1],[null,null,null,null,null,null],[null,null,8,null,7,3],[3,null,null,4,null,null],[5,null,null,1,null,null],[null,null,null,2,null,null],[1,1,1,1,1,1],[1,1,1,2,1,1],[2,2,2,2,2,2],[1,1,1,1,1,1],[2,2,2,2,2,2],[2,2,2,2,2,2],[1,null,1,null,1,1],[2,null,2,null,2,2],[2,null,2,null,2,2],[1,null,1,null,1,null],[102641.406474,15457.736897,7397.684828,127351.373299,12209.74498,60593.636684],[104236.582554,16116.35401,7869.485117,127965.226204,13384.042162,64068.123183],[1,3,3,1,2,1],[91,92,90,94,90,91],[14,4,15,8,4,77],[14,4,15,8,4,77],[3.15,0.6,4.07,1.67,0.57,null],[5,6,5,5,5,6],[5,6,5,5,5,6],[0,2,0,1,1,0],[1,2,2,2,2,4],[0,0,1,0,0,0],[2,2,1,1,2,1],[50,24,42,52,33,44],[1,1,1,1,2,1],[5,3,5,4,2,5],[1,6,1,1,77,1],[5,null,4,4,null,5]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>SEQN<\/th>\n      <th>SDDSRVYR<\/th>\n      <th>RIDSTATR<\/th>\n      <th>RIAGENDR<\/th>\n      <th>RIDAGEYR<\/th>\n      <th>RIDAGEMN<\/th>\n      <th>RIDRETH1<\/th>\n      <th>RIDRETH3<\/th>\n      <th>RIDEXMON<\/th>\n      <th>RIDEXAGY<\/th>\n      <th>RIDEXAGM<\/th>\n      <th>DMQMILIZ<\/th>\n      <th>DMQADFC<\/th>\n      <th>DMDBORN4<\/th>\n      <th>DMDCITZN<\/th>\n      <th>DMDYRSUS<\/th>\n      <th>DMDEDUC3<\/th>\n      <th>DMDEDUC2<\/th>\n      <th>DMDMARTL<\/th>\n      <th>RIDEXPRG<\/th>\n      <th>SIALANG<\/th>\n      <th>SIAPROXY<\/th>\n      <th>SIAINTRP<\/th>\n      <th>FIALANG<\/th>\n      <th>FIAPROXY<\/th>\n      <th>FIAINTRP<\/th>\n      <th>MIALANG<\/th>\n      <th>MIAPROXY<\/th>\n      <th>MIAINTRP<\/th>\n      <th>AIALANGA<\/th>\n      <th>WTINT2YR<\/th>\n      <th>WTMEC2YR<\/th>\n      <th>SDMVPSU<\/th>\n      <th>SDMVSTRA<\/th>\n      <th>INDHHIN2<\/th>\n      <th>INDFMIN2<\/th>\n      <th>INDFMPIR<\/th>\n      <th>DMDHHSIZ<\/th>\n      <th>DMDFMSIZ<\/th>\n      <th>DMDHHSZA<\/th>\n      <th>DMDHHSZB<\/th>\n      <th>DMDHHSZE<\/th>\n      <th>DMDHRGND<\/th>\n      <th>DMDHRAGE<\/th>\n      <th>DMDHRBR4<\/th>\n      <th>DMDHREDU<\/th>\n      <th>DMDHRMAR<\/th>\n      <th>DMDHSEDU<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"SEQN","targets":1},{"name":"SDDSRVYR","targets":2},{"name":"RIDSTATR","targets":3},{"name":"RIAGENDR","targets":4},{"name":"RIDAGEYR","targets":5},{"name":"RIDAGEMN","targets":6},{"name":"RIDRETH1","targets":7},{"name":"RIDRETH3","targets":8},{"name":"RIDEXMON","targets":9},{"name":"RIDEXAGY","targets":10},{"name":"RIDEXAGM","targets":11},{"name":"DMQMILIZ","targets":12},{"name":"DMQADFC","targets":13},{"name":"DMDBORN4","targets":14},{"name":"DMDCITZN","targets":15},{"name":"DMDYRSUS","targets":16},{"name":"DMDEDUC3","targets":17},{"name":"DMDEDUC2","targets":18},{"name":"DMDMARTL","targets":19},{"name":"RIDEXPRG","targets":20},{"name":"SIALANG","targets":21},{"name":"SIAPROXY","targets":22},{"name":"SIAINTRP","targets":23},{"name":"FIALANG","targets":24},{"name":"FIAPROXY","targets":25},{"name":"FIAINTRP","targets":26},{"name":"MIALANG","targets":27},{"name":"MIAPROXY","targets":28},{"name":"MIAINTRP","targets":29},{"name":"AIALANGA","targets":30},{"name":"WTINT2YR","targets":31},{"name":"WTMEC2YR","targets":32},{"name":"SDMVPSU","targets":33},{"name":"SDMVSTRA","targets":34},{"name":"INDHHIN2","targets":35},{"name":"INDFMIN2","targets":36},{"name":"INDFMPIR","targets":37},{"name":"DMDHHSIZ","targets":38},{"name":"DMDFMSIZ","targets":39},{"name":"DMDHHSZA","targets":40},{"name":"DMDHHSZB","targets":41},{"name":"DMDHHSZE","targets":42},{"name":"DMDHRGND","targets":43},{"name":"DMDHRAGE","targets":44},{"name":"DMDHRBR4","targets":45},{"name":"DMDHREDU","targets":46},{"name":"DMDHRMAR","targets":47},{"name":"DMDHSEDU","targets":48}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Simliarly, we select the systolic and diastolic blood pressure measures from the blood pressure table ‘BPX_G’:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>BP_cols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'SEQN'</span>, <span class="st">'BPXSY1'</span>,<span class="st">'BPXDI1'</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>BP_data <span class="ot">&lt;-</span> <span class="fu">nhanes</span>(<span class="st">'BPX_G'</span>)[, BP_cols]</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="fu">head</span>(BP_data))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item" id="htmlwidget-8fb627c87c6eaa21ddcd" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-8fb627c87c6eaa21ddcd">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6"],[62161,62162,62163,62164,62165,62166],[110,null,112,116,110,96],[82,null,38,56,64,32]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>SEQN<\/th>\n      <th>BPXSY1<\/th>\n      <th>BPXDI1<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"SEQN","targets":1},{"name":"BPXSY1","targets":2},{"name":"BPXDI1","targets":3}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>Combine all tables together:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>total_df <span class="ot">&lt;-</span> <span class="fu">merge</span>(nutrients, BP_data, <span class="at">by =</span> <span class="st">'SEQN'</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="co">#get rid of any column with NA</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>total_df <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(total_df)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>total_df <span class="ot">&lt;-</span> <span class="fu">merge</span>(total_df, demo)</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="fu">datatable</span>(<span class="fu">head</span>(total_df))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div class="datatables html-widget html-fill-item" id="htmlwidget-ee8283cfb25598f70d92" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ee8283cfb25598f70d92">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6"],[62161,62163,62164,62165,62169,62170],[4975,3071,3392,2421,2828,2078],[2473,2552,1953,1347,1465,1849],[1961,1495,396,637,709,303],[333,256,189,149,193,152],[104.68,72.64,73.13000000000001,76.35000000000001,77.46000000000001,81.28],[0,0,0,0,0,0],[2969,1789,1115,1472,1831,1620],[110,112,116,110,124,124],[82,38,56,64,80,82],[7,7,7,7,7,7],[2,2,2,2,2,2],[1,1,2,2,1,1],[22,14,44,14,21,15],[null,null,null,null,null,null],[3,5,3,4,5,5],[3,6,3,4,6,7],[2,2,1,2,1,1],[null,14,null,14,null,15],[null,177,null,179,null,181],[2,null,1,null,2,null],[null,null,2,null,null,null],[1,1,1,1,1,1],[1,1,1,1,1,1],[null,null,null,null,null,null],[null,8,null,7,null,9],[3,null,4,null,3,null],[5,null,1,null,5,null],[null,null,2,null,null,null],[1,1,1,1,1,1],[1,1,2,1,2,1],[2,2,2,2,1,2],[1,1,1,1,null,1],[2,2,2,2,null,2],[2,2,2,2,null,2],[1,1,null,1,1,1],[2,2,null,2,2,2],[2,2,null,2,2,2],[1,1,null,1,1,1],[102641.406474,7397.684828,127351.373299,12209.74498,14391.77847,7794.52699],[104236.582554,7869.485117,127965.226204,13384.042162,14783.600953,8291.636581999999],[1,3,1,2,1,3],[91,90,94,90,92,91],[14,15,8,4,2,15],[14,15,8,4,2,15],[3.15,4.07,1.67,0.57,0.33,5],[5,5,5,5,5,4],[5,5,5,5,5,4],[0,0,1,1,0,0],[1,2,2,2,1,2],[0,1,0,0,0,0],[2,1,1,2,1,1],[50,42,52,33,51,38],[1,1,1,2,2,2],[5,5,4,2,1,5],[1,1,1,77,4,1],[5,4,4,null,null,5]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>SEQN<\/th>\n      <th>DR1TSODI<\/th>\n      <th>DR1TPOTA<\/th>\n      <th>DR1TCALC<\/th>\n      <th>DR1TMAGN<\/th>\n      <th>DR1TPROT<\/th>\n      <th>DR1TALCO<\/th>\n      <th>DR1TKCAL<\/th>\n      <th>BPXSY1<\/th>\n      <th>BPXDI1<\/th>\n      <th>SDDSRVYR<\/th>\n      <th>RIDSTATR<\/th>\n      <th>RIAGENDR<\/th>\n      <th>RIDAGEYR<\/th>\n      <th>RIDAGEMN<\/th>\n      <th>RIDRETH1<\/th>\n      <th>RIDRETH3<\/th>\n      <th>RIDEXMON<\/th>\n      <th>RIDEXAGY<\/th>\n      <th>RIDEXAGM<\/th>\n      <th>DMQMILIZ<\/th>\n      <th>DMQADFC<\/th>\n      <th>DMDBORN4<\/th>\n      <th>DMDCITZN<\/th>\n      <th>DMDYRSUS<\/th>\n      <th>DMDEDUC3<\/th>\n      <th>DMDEDUC2<\/th>\n      <th>DMDMARTL<\/th>\n      <th>RIDEXPRG<\/th>\n      <th>SIALANG<\/th>\n      <th>SIAPROXY<\/th>\n      <th>SIAINTRP<\/th>\n      <th>FIALANG<\/th>\n      <th>FIAPROXY<\/th>\n      <th>FIAINTRP<\/th>\n      <th>MIALANG<\/th>\n      <th>MIAPROXY<\/th>\n      <th>MIAINTRP<\/th>\n      <th>AIALANGA<\/th>\n      <th>WTINT2YR<\/th>\n      <th>WTMEC2YR<\/th>\n      <th>SDMVPSU<\/th>\n      <th>SDMVSTRA<\/th>\n      <th>INDHHIN2<\/th>\n      <th>INDFMIN2<\/th>\n      <th>INDFMPIR<\/th>\n      <th>DMDHHSIZ<\/th>\n      <th>DMDFMSIZ<\/th>\n      <th>DMDHHSZA<\/th>\n      <th>DMDHHSZB<\/th>\n      <th>DMDHHSZE<\/th>\n      <th>DMDHRGND<\/th>\n      <th>DMDHRAGE<\/th>\n      <th>DMDHRBR4<\/th>\n      <th>DMDHREDU<\/th>\n      <th>DMDHRMAR<\/th>\n      <th>DMDHSEDU<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"SEQN","targets":1},{"name":"DR1TSODI","targets":2},{"name":"DR1TPOTA","targets":3},{"name":"DR1TCALC","targets":4},{"name":"DR1TMAGN","targets":5},{"name":"DR1TPROT","targets":6},{"name":"DR1TALCO","targets":7},{"name":"DR1TKCAL","targets":8},{"name":"BPXSY1","targets":9},{"name":"BPXDI1","targets":10},{"name":"SDDSRVYR","targets":11},{"name":"RIDSTATR","targets":12},{"name":"RIAGENDR","targets":13},{"name":"RIDAGEYR","targets":14},{"name":"RIDAGEMN","targets":15},{"name":"RIDRETH1","targets":16},{"name":"RIDRETH3","targets":17},{"name":"RIDEXMON","targets":18},{"name":"RIDEXAGY","targets":19},{"name":"RIDEXAGM","targets":20},{"name":"DMQMILIZ","targets":21},{"name":"DMQADFC","targets":22},{"name":"DMDBORN4","targets":23},{"name":"DMDCITZN","targets":24},{"name":"DMDYRSUS","targets":25},{"name":"DMDEDUC3","targets":26},{"name":"DMDEDUC2","targets":27},{"name":"DMDMARTL","targets":28},{"name":"RIDEXPRG","targets":29},{"name":"SIALANG","targets":30},{"name":"SIAPROXY","targets":31},{"name":"SIAINTRP","targets":32},{"name":"FIALANG","targets":33},{"name":"FIAPROXY","targets":34},{"name":"FIAINTRP","targets":35},{"name":"MIALANG","targets":36},{"name":"MIAPROXY","targets":37},{"name":"MIAINTRP","targets":38},{"name":"AIALANGA","targets":39},{"name":"WTINT2YR","targets":40},{"name":"WTMEC2YR","targets":41},{"name":"SDMVPSU","targets":42},{"name":"SDMVSTRA","targets":43},{"name":"INDHHIN2","targets":44},{"name":"INDFMIN2","targets":45},{"name":"INDFMPIR","targets":46},{"name":"DMDHHSIZ","targets":47},{"name":"DMDFMSIZ","targets":48},{"name":"DMDHHSZA","targets":49},{"name":"DMDHHSZB","targets":50},{"name":"DMDHHSZE","targets":51},{"name":"DMDHRGND","targets":52},{"name":"DMDHRAGE","targets":53},{"name":"DMDHRBR4","targets":54},{"name":"DMDHREDU","targets":55},{"name":"DMDHRMAR","targets":56},{"name":"DMDHSEDU","targets":57}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<p>This one uses all the variables (but have to adjust for collinearity)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>all_v_diastolic_model <span class="ot">=</span> <span class="fu">lm</span>(<span class="at">formula =</span> BPXDI1 <span class="sc">~</span> DR1TSODI <span class="sc">+</span> DR1TPOTA <span class="sc">+</span> DR1TCALC <span class="sc">+</span> DR1TMAGN <span class="sc">+</span> DR1TPROT <span class="sc">+</span> DR1TALCO <span class="sc">+</span> DR1TKCAL, <span class="at">data =</span> total_df)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(all_v_diastolic_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = BPXDI1 ~ DR1TSODI + DR1TPOTA + DR1TCALC + DR1TMAGN + 
    DR1TPROT + DR1TALCO + DR1TKCAL, data = total_df)

Residuals:
    Min      1Q  Median      3Q     Max 
-73.401  -7.930   0.942   9.150  54.845 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept) 64.4747517  0.4821333 133.728  &lt; 2e-16 ***
DR1TSODI     0.0007118  0.0001956   3.639 0.000276 ***
DR1TPOTA     0.0005132  0.0003053   1.681 0.092828 .  
DR1TCALC    -0.0033001  0.0004268  -7.732 1.22e-14 ***
DR1TMAGN     0.0119998  0.0024313   4.936 8.20e-07 ***
DR1TPROT     0.0182241  0.0089809   2.029 0.042480 *  
DR1TALCO     0.0639439  0.0080577   7.936 2.46e-15 ***
DR1TKCAL    -0.0017357  0.0003982  -4.359 1.33e-05 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 14.9 on 6244 degrees of freedom
Multiple R-squared:  0.03444,   Adjusted R-squared:  0.03335 
F-statistic: 31.81 on 7 and 6244 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>Note for later:<br>
Can use the save(dataframe, “file_name.Rdata”) function and then in another qmd file load using load(“file_name.Rdata”)</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./intro.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./visualization.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Data Visualization</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>