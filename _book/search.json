[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Measurement Error",
    "section": "",
    "text": "Preface\nThis is a Quarto book.\nTo learn more about Quarto books visit https://quarto.org/docs/books.\n\n1 + 1\n\n[1] 2",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "intro.html",
    "href": "intro.html",
    "title": "1  Introduction",
    "section": "",
    "text": "This is a book created from markdown and executable code.\nSee Knuth (1984) for additional discussion of literate programming.\n\n1 + 1\n\n[1] 2\n\n\n\n\n\n\nKnuth, Donald E. 1984. “Literate Programming.” Comput. J. 27 (2): 97–111. https://doi.org/10.1093/comjnl/27.2.97.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "summary.html",
    "href": "summary.html",
    "title": "2  Preparing the NHANES Data",
    "section": "",
    "text": "2.1 Identify Data Tables of Interest\nLook at the diet, examination, and demographic info for the 2011-2012 cycle of NHANES\n#Note DR1TOT_G and DR2TOT_G\ndatatable(nhanesTables('DIET', 2012))\n\n\n\n\n#Note BPX_G: Blood Pressure (may also need BMX_G/body measures)\ndatatable(nhanesTables('EXAM', 2012))\n\n\n\n\n#Note DEMO_G: Demographic Info (the only table)\ndatatable(nhanesTables('DEMO', 2012))",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Preparing the NHANES Data</span>"
    ]
  },
  {
    "objectID": "references.html",
    "href": "references.html",
    "title": "References",
    "section": "",
    "text": "Knuth, Donald E. 1984. “Literate Programming.” Comput.\nJ. 27 (2): 97–111. https://doi.org/10.1093/comjnl/27.2.97.",
    "crumbs": [
      "References"
    ]
  },
  {
    "objectID": "summary.html#identify-required-data-tables",
    "href": "summary.html#identify-required-data-tables",
    "title": "2  Download NHANES Data",
    "section": "",
    "text": "Dietary Measure\nVariable Name\n\n\n\n\nSodium (mg)\nDR1TSODI\n\n\nPotassium (mg)\nDR1TPOTA\n\n\nCalcium (mg)\nDR1TCALC\n\n\nMagnesium (mg)\nDR1TMAGN\n\n\nProtein (gm)\nDR1TPROT\n\n\nAlcohol (gm)\nDR1TALCO\n\n\nEnergy (kcal)\nDR1TKCAL",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Download NHANES Data</span>"
    ]
  },
  {
    "objectID": "summary.html#merge-data-together",
    "href": "summary.html#merge-data-together",
    "title": "2  Preparing the NHANES Data",
    "section": "2.3 Merge Data Together",
    "text": "2.3 Merge Data Together\nTake the diet data: there are two separate tables for measurements taken on different days. We can combine this using the merge() function.\n\nd1_diet_d &lt;- nhanes('DR1TOT_G')\nd2_diet_d &lt;- nhanes('DR2TOT_G')\n\n#concatenate the diet data for two days together\ndiet_d &lt;- merge(d1_diet_d, d2_diet_d, )\ndatatable(head(diet_d))\n\n\n\n\n\nFor this example, we take only the day 1 diet measures to create the “nutrients” dataframe:\n\nselect_cols &lt;- c('SEQN', 'DR1TSODI', 'DR1TPOTA', 'DR1TCALC', 'DR1TMAGN', 'DR1TPROT', 'DR1TALCO', 'DR1TKCAL')\nnutrients &lt;- diet_d[, select_cols]\ndatatable(head(nutrients))\n\n\n\n\n\n\ndemo &lt;- nhanes('DEMO_G')\ndatatable(head(demo))\n\n\n\n\n\nSimliarly, we select the systolic and diastolic blood pressure measures from the blood pressure table ‘BPX_G’:\n\nBP_cols &lt;- c('SEQN', 'BPXSY1','BPXDI1')\nBP_data &lt;- nhanes('BPX_G')[, BP_cols]\ndatatable(head(BP_data))\n\n\n\n\n\nCombine all tables together:\n\ntotal_df &lt;- merge(nutrients, BP_data, by = 'SEQN')\n#get rid of any column with NA\ntotal_df &lt;- na.omit(total_df)\n\ntotal_df &lt;- merge(total_df, demo)\ndatatable(head(total_df))\n\n\n\n\n\nThis one uses all the variables (but have to adjust for collinearity)\n\nall_v_diastolic_model = lm(formula = BPXDI1 ~ DR1TSODI + DR1TPOTA + DR1TCALC + DR1TMAGN + DR1TPROT + DR1TALCO + DR1TKCAL, data = total_df)\n\nsummary(all_v_diastolic_model)\n\n\nCall:\nlm(formula = BPXDI1 ~ DR1TSODI + DR1TPOTA + DR1TCALC + DR1TMAGN + \n    DR1TPROT + DR1TALCO + DR1TKCAL, data = total_df)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-73.401  -7.930   0.942   9.150  54.845 \n\nCoefficients:\n              Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept) 64.4747517  0.4821333 133.728  &lt; 2e-16 ***\nDR1TSODI     0.0007118  0.0001956   3.639 0.000276 ***\nDR1TPOTA     0.0005132  0.0003053   1.681 0.092828 .  \nDR1TCALC    -0.0033001  0.0004268  -7.732 1.22e-14 ***\nDR1TMAGN     0.0119998  0.0024313   4.936 8.20e-07 ***\nDR1TPROT     0.0182241  0.0089809   2.029 0.042480 *  \nDR1TALCO     0.0639439  0.0080577   7.936 2.46e-15 ***\nDR1TKCAL    -0.0017357  0.0003982  -4.359 1.33e-05 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 14.9 on 6244 degrees of freedom\nMultiple R-squared:  0.03444,   Adjusted R-squared:  0.03335 \nF-statistic: 31.81 on 7 and 6244 DF,  p-value: &lt; 2.2e-16",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Preparing the NHANES Data</span>"
    ]
  },
  {
    "objectID": "summary.html#identify-variables-of-interest",
    "href": "summary.html#identify-variables-of-interest",
    "title": "2  Preparing the NHANES Data",
    "section": "2.2 Identify Variables of Interest",
    "text": "2.2 Identify Variables of Interest\nNow that we have identified the tables we need, first take a look at the required variables in the table of dietary information:\n\ndatatable(nhanesTableVars('DIET', 'DR1TOT_G'))\n\n\n\n\n\nWe can then identify the variables corresponding to each dietary measure of interest:\n\n\n\nDietary Measure\nVariable Name\n\n\n\n\nSodium (mg)\nDR1TSODI\n\n\nPotassium (mg)\nDR1TPOTA\n\n\nCalcium (mg)\nDR1TCALC\n\n\nMagnesium (mg)\nDR1TMAGN\n\n\nProtein (gm)\nDR1TPROT\n\n\nAlcohol (gm)\nDR1TALCO\n\n\nEnergy (kcal)\nDR1TKCAL\n\n\n\nWe will also need to include SEQN, which corresponds to to the respondent ID number. This will be the column used for combining the different tables together.\nLet’s next look at the variables in the blood pressure table:\n\ndatatable(nhanesTableVars('EXAM', 'BPX_G'))\n\n\n\n\n\nWe are interested in BPXSY1 and BPXDI1 for systolic and diastolic blood pressure, respectively",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Preparing the NHANES Data</span>"
    ]
  }
]